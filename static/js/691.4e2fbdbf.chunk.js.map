{"version":3,"file":"static/js/691.4e2fbdbf.chunk.js","mappings":"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","sources":["Api/fetchApi.js","components/Loader/Loader.jsx","components/MoviesList/MoviesList.styled.jsx","components/MoviesList/MoviesList.jsx","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'c5a1db41bd5eb56af64be0ab647b8aee';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getTrendingMovies = async () => {\n  try {\n    return await axios.get(`trending/movie/day?api_key=${API_KEY}`);\n  } catch (error) {\n    throw new Error('Oops, something goes wrong!');\n  }\n};\n\nexport const getMoviesByKeyword = async query => {\n  try {\n    return await axios.get(`search/movie?api_key=${API_KEY}&query=${query}`);\n  } catch (error) {\n    throw new Error('Oops, something goes wrong!');\n  }\n};\n\nexport async function getMovieById(movieId) {\n  try {\n    const movie = await axios.get(\n      `movie/${movieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return movie.data;\n  } catch (error) {\n    throw new Error('Oops, something goes wrong!');\n  }\n}\n\nexport async function getCast(movieId) {\n  try {\n    const cast = await axios.get(`movie/${movieId}/credits?api_key=${API_KEY}`);\n    return cast.data.cast;\n  } catch (error) {\n    throw new Error('Oops, something goes wrong!');\n  }\n}\n\nexport async function getReviews(movieId) {\n  try {\n    const reviews = await axios.get(\n      `movie/${movieId}/reviews?api_key=${API_KEY}`\n    );\n    return reviews.data.results;\n  } catch (error) {\n    throw new Error('Oops, something goes wrong!');\n  }\n}\n\nexport function getPecentageValue(voteAverage) {\n  if (!voteAverage) {\n    return;\n  }\n  const percent = (voteAverage * 10).toFixed();\n  return `${percent}%`;\n}\n\nexport function getGenres(genres) {\n  if (!genres) {\n    return;\n  }\n  const allGenres = genres.map(genre => genre.name).join(', ');\n  return allGenres;\n}\n","import { RotatingLines } from 'react-loader-spinner';\nimport styled from 'styled-components';\n\nconst LoaderWrapper = styled.div`\n  display: flex;\n  height: 75vh;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Loader = () => {\n  return (\n    <LoaderWrapper>\n      <RotatingLines\n        strokeColor=\"#00467f\"\n        strokeWidth=\"5\"\n        animationDuration=\"0.75\"\n        width=\"96\"\n        wrapperStyle={{ margin: '50px' }}\n        visible={true}\n      />\n    </LoaderWrapper>\n  );\n};\n","import styled from 'styled-components';\n\nexport const StyledList = styled.ul`\n  display: grid;\n  grid-auto-rows: auto;\n  grid-gap: 20px;\n  margin-bottom: 60px;\n\n  @media screen and (min-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n    grid-gap: 24px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    grid-template-columns: repeat(4, 1fr);\n    grid-gap: 20px;\n  }\n`;\n\nexport const StyledItem = styled.li`\n  cursor: pointer;\n`;\n\nexport const StyledPoster = styled.img`\n  min-height: 402px;\n  object-fit: cover;\n  margin-bottom: 10px;\n  border-radius: 5px;\n\n  @media screen and (min-width: 768px) {\n    min-width: 180px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    /* min-width: 292px; */\n  }\n\n  &:hover {\n    transform: scale(1.03);\n  }\n`;\n\nexport const StyledTitle = styled.p`\n  text-transform: uppercase;\n  display: block;\n  font-weight: 600;\n  line-height: 1.33;\n  /* height: 16px; */\n  /* overflow: hidden; */\n  color: #000;\n\n  @media screen and (min-width: 1280px) {\n    height: 24px;\n    font-style: normal;\n    font-size: 16px;\n    line-height: 1.2;\n  }\n`;\n\nexport const StyledDate = styled.p`\n  color: #00457d;\n  font-weight: 700;\n  font-size: 16px;\n`;\n","import { Link, useLocation } from 'react-router-dom';\nimport {\n  StyledList,\n  StyledItem,\n  StyledPoster,\n  StyledTitle,\n  StyledDate,\n} from './MoviesList.styled';\n\nconst posterUrl = 'https://image.tmdb.org/t/p/w500';\nconst noPosterUrl = 'https://sd.keepcalms.com/i/keep-calm-poster-not-found.png';\n\nconst MovieList = ({ movies }) => {\n  const location = useLocation();\n  return (\n    <StyledList>\n      {movies.map(({ id, title, poster_path, release_date }) => (\n        <StyledItem key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            <StyledPoster\n              src={poster_path ? `${posterUrl}${poster_path}` : noPosterUrl}\n              alt=\"Movie poster\"\n            />\n            <StyledTitle>\n              {title.length > 26 ? `${title.slice(0, 26)}${' ...'}` : title}\n            </StyledTitle>\n            <StyledDate>\n              {release_date ? release_date.slice(0, 4) : `Unknown`}\n            </StyledDate>\n          </Link>\n        </StyledItem>\n      ))}\n    </StyledList>\n  );\n};\nexport default MovieList;\n","import styled from 'styled-components';\nimport { Form, Field } from 'formik';\n\nexport const SearchForm = styled(Form)`\n  display: flex;\n  gap: 20px;\n  padding: 20px 0;\n`;\nexport const SearchFild = styled(Field)`\n  width: 100%;\n  height: 34px;\n  padding: 10px 14px;\n  font-weight: 400;\n  line-height: 1.16;\n  background: #ffffff;\n  border: 1.5px solid #032541;\n  border-radius: 15px;\n  cursor: pointer;\n\n  @media screen and (min-width: 768px) {\n    height: 38px;\n    width: 165px;\n    font-size: 14px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    height: 42px;\n    width: 300px;\n    padding: 10px 16px;\n  }\n`;\nexport const SearchButton = styled.button`\n  width: 135px;\n  height: 34px;\n  padding: 10px 14px;\n  font-weight: 700;\n  text-transform: uppercase;\n  line-height: 1.16;\n  color: #fff;\n  background: #00467f;\n  border: 1.5px solid #00467f;\n  border-radius: 15px;\n  cursor: pointer;\n\n  @media screen and (min-width: 768px) {\n    height: 38px;\n    width: 165px;\n    font-size: 14px;\n  }\n\n  @media screen and (min-width: 1280px) {\n    height: 42px;\n    width: 105px;\n    padding: 10px 16px;\n  }\n`;\n","import { Formik } from 'formik';\nimport { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { getMoviesByKeyword } from '../../Api/fetchApi';\nimport { SearchForm, SearchFild, SearchButton } from './Movies.styled';\nimport MoviesList from '../../components/MoviesList/MoviesList';\nimport { Loader } from '../../components/Loader/Loader';\n\nconst Movies = () => {\n  const [moviesList, setMoviesList] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const onFormSubmit = (values, { resetForm }) => {\n    const nextParams = values.query !== '' ? { query: values.query } : {};\n    setSearchParams(nextParams);\n    resetForm();\n  };\n\n  useEffect(() => {\n    if (!query) return;\n    const getMovies = async () => {\n      try {\n        setIsLoading(true);\n        setMoviesList([]);\n        const respons = await getMoviesByKeyword(query);\n        const movies = respons.data.results;\n        if (movies.length === 0) {\n          toast.error(\n            'Search result not successful. Enter the correct movie name.'\n          );\n          setSearchParams({});\n        }\n        setMoviesList(movies);\n      } catch (error) {\n        toast.error(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovies();\n  }, [query, setSearchParams]);\n  return (\n    <>\n      <Formik initialValues={{ query: '' }} onSubmit={onFormSubmit}>\n        <SearchForm>\n          <SearchFild\n            type=\"text\"\n            name=\"query\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Movie name...\"\n          />\n          <SearchButton type=\"submit\">Search</SearchButton>\n        </SearchForm>\n      </Formik>\n      {isLoading && <Loader />}\n      {moviesList && <MoviesList movies={moviesList} />}\n      <ToastContainer />\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["API_KEY","axios","getTrendingMovies","Error","getMoviesByKeyword","query","getMovieById","movieId","movie","data","getCast","cast","getReviews","reviews","results","getPecentageValue","voteAverage","percent","toFixed","getGenres","genres","map","genre","name","join","LoaderWrapper","styled","Loader","strokeColor","strokeWidth","animationDuration","width","wrapperStyle","margin","visible","StyledList","StyledItem","StyledPoster","StyledTitle","StyledDate","movies","location","useLocation","id","title","poster_path","release_date","to","state","from","src","alt","length","slice","SearchForm","Form","SearchFild","Field","SearchButton","useState","moviesList","setMoviesList","isLoading","setIsLoading","useSearchParams","searchParams","setSearchParams","get","useEffect","getMovies","respons","toast","message","initialValues","onSubmit","values","resetForm","nextParams","type","autoComplete","autoFocus","placeholder","MoviesList"],"sourceRoot":""}